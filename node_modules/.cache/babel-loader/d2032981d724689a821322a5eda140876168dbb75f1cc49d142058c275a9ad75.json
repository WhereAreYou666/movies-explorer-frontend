{"ast":null,"code":"import React from'react';import'./SavedMovies.css';import Header from'../Header/Header';import SearchForm from'../SearchForm/SearchForm';import MoviesCardList from'../MoviesCardList/MoviesCardList';import Footer from'../Footer/Footer';import MoviesCard from'../MoviesCard/MoviesCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SavedMovies(props){const[filteredCards,setFilteredCards]=React.useState(props.savedCards);const[value,setValue]=React.useState('');const[isValidSubmit,setIsValidSubmit]=React.useState(false);const[isValueError,setIsValueError]=React.useState('Фильм');const[valueFilter,setValueFilter]=React.useState('');const[isNotFound,setIsNotFound]=React.useState(false);function handleChangeValue(evt){setValue(evt.target.value);}const handleSearchSubmit=()=>{if(value===''){setIsValidSubmit(true);setIsValueError('Нужно ввести ключевое слово');}else{setIsValidSubmit(false);setIsValueError('Фильм');setValueFilter(value.slice());}};React.useEffect(()=>{if(props.isCheckbox){setFilteredCards(props.savedCards.filter(card=>{return card.duration<=40&&(card.nameRU.toLowerCase().includes(valueFilter.toLowerCase())||card.nameEN.toLowerCase().includes(valueFilter.toLowerCase()));}));}else{setFilteredCards(props.savedCards.filter(card=>{return card.nameRU.toLowerCase().includes(valueFilter.toLowerCase())||card.nameEN.toLowerCase().includes(valueFilter.toLowerCase());}));}},[valueFilter,props.savedCards,props.isCheckbox]);React.useEffect(()=>{if(filteredCards.length===0&&props.savedCards.length!==0){setIsNotFound(true);}else{setIsNotFound(false);}},[filteredCards.length,props.savedCards.length]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{loggedIn:props.loggedIn,isPageSave:true}),/*#__PURE__*/_jsxs(\"main\",{className:\"saved-movies\",children:[/*#__PURE__*/_jsx(SearchForm,{onClickCheckbox:props.onClickCheckbox,isCheckbox:props.isCheckbox,cards:filteredCards,value:value,filteredCards:filteredCards,isValidSubmit:isValidSubmit,isValueError:isValueError,onSubmit:handleSearchSubmit,onChange:handleChangeValue}),/*#__PURE__*/_jsx(MoviesCardList,{children:isNotFound?/*#__PURE__*/_jsx(\"p\",{className:\"movies__card-list-text\",children:\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"}):filteredCards.map(card=>/*#__PURE__*/_jsx(MoviesCard,{handleMovieDelete:props.handleMovieDelete,card:card,link:card.image,savedCards:props.savedCards,handleAddMovies:props.handleAddMovies,isSave:true},card.movieId))})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default SavedMovies;","map":{"version":3,"names":["React","Header","SearchForm","MoviesCardList","Footer","MoviesCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SavedMovies","props","filteredCards","setFilteredCards","useState","savedCards","value","setValue","isValidSubmit","setIsValidSubmit","isValueError","setIsValueError","valueFilter","setValueFilter","isNotFound","setIsNotFound","handleChangeValue","evt","target","handleSearchSubmit","slice","useEffect","isCheckbox","filter","card","duration","nameRU","toLowerCase","includes","nameEN","length","children","loggedIn","isPageSave","className","onClickCheckbox","cards","onSubmit","onChange","map","handleMovieDelete","link","image","handleAddMovies","isSave","movieId"],"sources":["/Users/ruslan/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.jsx"],"sourcesContent":["import React from 'react';\nimport './SavedMovies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport MoviesCard from '../MoviesCard/MoviesCard';\n\nfunction SavedMovies(props) {\n  const [filteredCards, setFilteredCards] = React.useState(props.savedCards);\n  const [value, setValue] = React.useState('')\n  const [isValidSubmit, setIsValidSubmit] = React.useState(false);\n  const [isValueError, setIsValueError] = React.useState('Фильм');\n  const [valueFilter, setValueFilter] = React.useState('');\n  const [isNotFound, setIsNotFound] = React.useState(false);\n\n  function handleChangeValue(evt) {\n    setValue(evt.target.value);\n  }\n\n  const handleSearchSubmit = () => {\n    if (value === '') {\n      setIsValidSubmit(true);\n      setIsValueError('Нужно ввести ключевое слово');\n    } else {\n      setIsValidSubmit(false);\n      setIsValueError('Фильм');\n      setValueFilter(value.slice());\n    }\n  };\n\n  React.useEffect(() => {\n    if (props.isCheckbox) {\n      setFilteredCards(props.savedCards.filter((card) => {\n        return (card.duration <= 40) && (card.nameRU.toLowerCase().includes(valueFilter.toLowerCase())\n          || card.nameEN.toLowerCase().includes(valueFilter.toLowerCase()))\n      }))\n    } else {\n      setFilteredCards(props.savedCards.filter(card => {\n        return (\n          card.nameRU.toLowerCase().includes(valueFilter.toLowerCase())\n          || card.nameEN.toLowerCase().includes(valueFilter.toLowerCase())\n        )\n      }))\n    }\n  }, [valueFilter, props.savedCards, props.isCheckbox])\n\n  React.useEffect(() => {\n    if (filteredCards.length === 0 && props.savedCards.length !== 0) {\n      setIsNotFound(true);\n    } else {\n      setIsNotFound(false);\n    }\n  }, [filteredCards.length, props.savedCards.length]);\n\n  return (\n    <>\n      <Header loggedIn={props.loggedIn} isPageSave={true} />\n      <main className=\"saved-movies\">\n        <SearchForm\n          onClickCheckbox={props.onClickCheckbox}\n          isCheckbox={props.isCheckbox}\n          cards={filteredCards}\n          value={value}\n          filteredCards={filteredCards}\n          isValidSubmit={isValidSubmit}\n          isValueError={isValueError}\n          onSubmit={handleSearchSubmit}\n          onChange={handleChangeValue}\n        />\n        <MoviesCardList>\n          {isNotFound\n            ? (<p className=\"movies__card-list-text\">Ничего не найдено</p>)\n            : filteredCards.map((card) => (\n              <MoviesCard\n                handleMovieDelete={props.handleMovieDelete}\n                key={card.movieId}\n                card={card}\n                link={card.image}\n                savedCards={props.savedCards}\n                handleAddMovies={props.handleAddMovies}\n                isSave={true}\n              />\n            ))}\n        </MoviesCardList>\n      </main>\n      <Footer />\n    </>\n  )\n}\n\nexport default SavedMovies;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElD,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CAC1B,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,KAAK,CAACgB,QAAQ,CAACH,KAAK,CAACI,UAAU,CAAC,CAC1E,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,KAAK,CAACgB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACI,aAAa,CAAEC,gBAAgB,CAAC,CAAGrB,KAAK,CAACgB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACM,YAAY,CAAEC,eAAe,CAAC,CAAGvB,KAAK,CAACgB,QAAQ,CAAC,OAAO,CAAC,CAC/D,KAAM,CAACQ,WAAW,CAAEC,cAAc,CAAC,CAAGzB,KAAK,CAACgB,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACU,UAAU,CAAEC,aAAa,CAAC,CAAG3B,KAAK,CAACgB,QAAQ,CAAC,KAAK,CAAC,CAEzD,QAAS,CAAAY,iBAAiBA,CAACC,GAAG,CAAE,CAC9BV,QAAQ,CAACU,GAAG,CAACC,MAAM,CAACZ,KAAK,CAAC,CAC5B,CAEA,KAAM,CAAAa,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAIb,KAAK,GAAK,EAAE,CAAE,CAChBG,gBAAgB,CAAC,IAAI,CAAC,CACtBE,eAAe,CAAC,6BAA6B,CAAC,CAChD,CAAC,IAAM,CACLF,gBAAgB,CAAC,KAAK,CAAC,CACvBE,eAAe,CAAC,OAAO,CAAC,CACxBE,cAAc,CAACP,KAAK,CAACc,KAAK,CAAC,CAAC,CAAC,CAC/B,CACF,CAAC,CAEDhC,KAAK,CAACiC,SAAS,CAAC,IAAM,CACpB,GAAIpB,KAAK,CAACqB,UAAU,CAAE,CACpBnB,gBAAgB,CAACF,KAAK,CAACI,UAAU,CAACkB,MAAM,CAAEC,IAAI,EAAK,CACjD,MAAQ,CAAAA,IAAI,CAACC,QAAQ,EAAI,EAAE,GAAMD,IAAI,CAACE,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChB,WAAW,CAACe,WAAW,CAAC,CAAC,CAAC,EACzFH,IAAI,CAACK,MAAM,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChB,WAAW,CAACe,WAAW,CAAC,CAAC,CAAC,CAAC,CACrE,CAAC,CAAC,CAAC,CACL,CAAC,IAAM,CACLxB,gBAAgB,CAACF,KAAK,CAACI,UAAU,CAACkB,MAAM,CAACC,IAAI,EAAI,CAC/C,MACE,CAAAA,IAAI,CAACE,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChB,WAAW,CAACe,WAAW,CAAC,CAAC,CAAC,EAC1DH,IAAI,CAACK,MAAM,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChB,WAAW,CAACe,WAAW,CAAC,CAAC,CAAC,CAEpE,CAAC,CAAC,CAAC,CACL,CACF,CAAC,CAAE,CAACf,WAAW,CAAEX,KAAK,CAACI,UAAU,CAAEJ,KAAK,CAACqB,UAAU,CAAC,CAAC,CAErDlC,KAAK,CAACiC,SAAS,CAAC,IAAM,CACpB,GAAInB,aAAa,CAAC4B,MAAM,GAAK,CAAC,EAAI7B,KAAK,CAACI,UAAU,CAACyB,MAAM,GAAK,CAAC,CAAE,CAC/Df,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,IAAM,CACLA,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAE,CAACb,aAAa,CAAC4B,MAAM,CAAE7B,KAAK,CAACI,UAAU,CAACyB,MAAM,CAAC,CAAC,CAEnD,mBACEjC,KAAA,CAAAE,SAAA,EAAAgC,QAAA,eACEpC,IAAA,CAACN,MAAM,EAAC2C,QAAQ,CAAE/B,KAAK,CAAC+B,QAAS,CAACC,UAAU,CAAE,IAAK,CAAE,CAAC,cACtDpC,KAAA,SAAMqC,SAAS,CAAC,cAAc,CAAAH,QAAA,eAC5BpC,IAAA,CAACL,UAAU,EACT6C,eAAe,CAAElC,KAAK,CAACkC,eAAgB,CACvCb,UAAU,CAAErB,KAAK,CAACqB,UAAW,CAC7Bc,KAAK,CAAElC,aAAc,CACrBI,KAAK,CAAEA,KAAM,CACbJ,aAAa,CAAEA,aAAc,CAC7BM,aAAa,CAAEA,aAAc,CAC7BE,YAAY,CAAEA,YAAa,CAC3B2B,QAAQ,CAAElB,kBAAmB,CAC7BmB,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,cACFrB,IAAA,CAACJ,cAAc,EAAAwC,QAAA,CACZjB,UAAU,cACNnB,IAAA,MAAGuC,SAAS,CAAC,wBAAwB,CAAAH,QAAA,CAAC,8FAAiB,CAAG,CAAC,CAC5D7B,aAAa,CAACqC,GAAG,CAAEf,IAAI,eACvB7B,IAAA,CAACF,UAAU,EACT+C,iBAAiB,CAAEvC,KAAK,CAACuC,iBAAkB,CAE3ChB,IAAI,CAAEA,IAAK,CACXiB,IAAI,CAAEjB,IAAI,CAACkB,KAAM,CACjBrC,UAAU,CAAEJ,KAAK,CAACI,UAAW,CAC7BsC,eAAe,CAAE1C,KAAK,CAAC0C,eAAgB,CACvCC,MAAM,CAAE,IAAK,EALRpB,IAAI,CAACqB,OAMX,CACF,CAAC,CACU,CAAC,EACb,CAAC,cACPlD,IAAA,CAACH,MAAM,GAAE,CAAC,EACV,CAAC,CAEP,CAEA,cAAe,CAAAQ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}