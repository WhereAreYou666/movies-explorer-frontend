{"ast":null,"code":"import React from\"react\";import'./MoviesCard.css';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesCard(props){const[isSaveMovie,setIsSaveMovie]=React.useState(false);React.useEffect(()=>{const movie=props.savedCards.find(card=>card.movieId===props.card.id);const saveMovie=props.savedCards.find(card=>card.movieId===props.card.movieId);if(movie||saveMovie){setIsSaveMovie(true);}else{setIsSaveMovie(false);}},[props.card.id,props.savedCards,props.card.movieId]);function clickSaveButton(){if(isSaveMovie){props.handleMovieDelete(props.card);}else{props.handleAddMovies({country:props.card.country,director:props.card.director,duration:props.card.duration,year:props.card.year,description:props.card.description,image:\"https://api.nomoreparties.co/\".concat(props.card.image.url),trailerLink:props.card.trailerLink,nameRU:props.card.nameRU,nameEN:props.card.nameEN,thumbnail:\"https://api.nomoreparties.co/\".concat(props.card.image.formats.thumbnail.url),movieId:props.card.id});}}return/*#__PURE__*/_jsxs(\"li\",{className:\"movies__card \".concat(props.index>props.visibleCards?'movies__card_type_inactive':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movies__card-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"movies__card-title\",children:props.card.nameRU}),/*#__PURE__*/_jsxs(\"p\",{className:\"movies__card-duration\",children:[Math.floor(props.card.duration/60),\"\\u0447 \",props.card.duration%60,\"\\u043C\"]})]}),/*#__PURE__*/_jsx(Link,{to:props.card.trailerLink,className:\"movies__card-link\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"img\",{src:props.link,alt:\"\\u043E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0430 \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430\",className:\"movies__card-image\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"movies__card-button-save \\n        \".concat(isSaveMovie&&props.movies?'movies__card-button-save_type_active':'',\"\\n        \").concat(props.isSave?'movies__card-button-save_type_delete':''),onClick:clickSaveButton,children:isSaveMovie||props.isSave?'':'Сохранить'})]},props.card.id||props.card.movieId);}export default MoviesCard;","map":{"version":3,"names":["React","Link","jsx","_jsx","jsxs","_jsxs","MoviesCard","props","isSaveMovie","setIsSaveMovie","useState","useEffect","movie","savedCards","find","card","movieId","id","saveMovie","clickSaveButton","handleMovieDelete","handleAddMovies","country","director","duration","year","description","image","concat","url","trailerLink","nameRU","nameEN","thumbnail","formats","className","index","visibleCards","children","Math","floor","to","target","src","link","alt","movies","isSave","onClick"],"sources":["/Users/ruslan/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.jsx"],"sourcesContent":["import React from \"react\";\nimport './MoviesCard.css';\nimport { Link } from \"react-router-dom\";\n\nfunction MoviesCard(props) {\n  const [isSaveMovie, setIsSaveMovie] = React.useState(false);\n\n  React.useEffect(() => {\n    const movie = props.savedCards.find((card) => card.movieId === props.card.id);\n    const saveMovie = props.savedCards.find((card) => card.movieId === props.card.movieId);\n    if (movie || saveMovie) {\n      setIsSaveMovie(true);\n    } else {\n      setIsSaveMovie(false)\n    }\n  }, [props.card.id, props.savedCards, props.card.movieId])\n\n  function clickSaveButton() {\n    if (isSaveMovie) {\n      props.handleMovieDelete(props.card);\n    } else {\n      props.handleAddMovies({\n        country: props.card.country,\n        director: props.card.director,\n        duration: props.card.duration,\n        year: props.card.year,\n        description: props.card.description,\n        image: `https://api.nomoreparties.co/${props.card.image.url}`,\n        trailerLink: props.card.trailerLink,\n        nameRU: props.card.nameRU,\n        nameEN: props.card.nameEN,\n        thumbnail: `https://api.nomoreparties.co/${props.card.image.formats.thumbnail.url}`,\n        movieId: props.card.id\n      })\n    }\n  }\n\n  return (\n    <li className={`movies__card ${(props.index > props.visibleCards) ? 'movies__card_type_inactive' : ''}`} key={props.card.id || props.card.movieId}>\n      <div className=\"movies__card-content\">\n        <h2 className=\"movies__card-title\">{props.card.nameRU}</h2>\n        <p className=\"movies__card-duration\">{Math.floor(props.card.duration / 60)}ч {props.card.duration % 60}м</p>\n      </div>\n      <Link to={props.card.trailerLink} className=\"movies__card-link\" target=\"_blank\">\n        <img src={props.link} alt=\"обложка фильма\" className=\"movies__card-image\" />\n      </Link>\n\n      <button className={\n        `movies__card-button-save \n        ${isSaveMovie && props.movies ? 'movies__card-button-save_type_active'\n          : ''}\n        ${props.isSave ? 'movies__card-button-save_type_delete' : ''}`\n      } onClick={clickSaveButton}>{\n          isSaveMovie || props.isSave ? '' : 'Сохранить'\n        }</button>\n    </li>\n\n  )\n}\n\nexport default MoviesCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}